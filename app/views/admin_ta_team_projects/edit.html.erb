<% html_title "Edit Project Assignment" %>

<h2>Edit Project Assignment: <%= @team.name %></h2>
<p class="subtitle"><%= ta_team_breadcrumb(@team) %></p>

<%= form_for @team_project, url: admin_ta_team_team_project_path(@team, @team_project), method: :put, html: { class: 'tabular' } do |f| %>
  <%= error_messages_for 'ta_team_project' %>

  <div class="box tabular">
    <p>
      <%= f.label :project_id, 'Project' %>
      <%= f.select :project_id, 
                   options_from_collection_for_select(@available_projects, :id, :name, @team_project.project_id),
                   {},
                   { disabled: true, class: 'select2' } %>
      <%= f.hidden_field :project_id %>
      <em class="info">Project cannot be changed. Create a new assignment instead.</em>
    </p>

    <p>
      <%= f.label :start_date, 'Start Date', class: 'required' %>
      <%= f.date_field :start_date, required: true %>
    </p>

    <p>
      <%= f.label :end_date, 'End Date' %>
      <%= f.date_field :end_date %>
      <em class="info">Leave empty for ongoing projects</em>
    </p>
  </div>

  <%= submit_tag l(:button_save) %>
  <%= link_to l(:button_cancel), admin_ta_team_team_projects_path(@team) %>
<% end %>
